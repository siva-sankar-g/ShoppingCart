<div class="container-fluid">
  <h1>Shipping</h1>
  <div class="row">
    <div class="col">
      <form autocomplete="off" #f="ngForm" (ngSubmit)="placeOrder(f.value)">
        <div class="form-group">
          <label for="name">Name</label>
          <input
            ngModel
            #name = "ngModel"
            name="name"
            type="text"
            class="form-control"
            id="name"
            required
            placeholder="Enter your name"
          />
          <div class="alert alert-danger" *ngIf="name.touched && name.invalid">
            Name is Required
          </div>
        </div>
        <div class="form-group">
          <label for="inputAddress">Address</label>
          <input
            ngModel
            name="address1"
            type="text"
            class="form-control"
            id="inputAddress"
            placeholder="1234 Main St"
          />
        </div>
        <div class="form-group">
          <label for="inputAddress2">Address 2</label>
          <input
            ngModel
            name="address2"
            type="text"
            class="form-control"
            id="address2"
            placeholder="Apartment, studio, or floor"
          />
        </div>
        <div class="form-group">
          <label for="inputCity">City</label>
          <input type="text" ngModel name="city" class="form-control" id="inputCity" />
        </div>
        <div class="form-group">
          <label for="inputState">State</label>
          <select id="inputState" ngModel name="state" class="form-control">
            <option selected>Choose...</option>
            <option value="andrapradesh">AndraPradesh</option>
            <option value="telengana">Telengana</option>
            <option value="tamilnadu">Tamilnadu</option>
          </select>
        </div>
        <div class="form-group">
          <label for="inputZip">Zip</label>
          <input type="text" ngModel name="zip" class="form-control" id="inputZip" />
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="f.invalid">
          Place Order
        </button>
      </form>
    </div>
    <div class="col">
      <ng-container *ngIf="cart">
        <div class="card">
          <div class="card-header">
            <h2>Order Summary</h2>
            <div>
              <span
                >You have {{ cart.totalcount }} items in your shoppingcart</span
              >
            </div>
          </div>
          <div class="cart-body">
            <table class="table">
              <tbody>
                <tr *ngFor="let item of cart.items | keyvalue">
                  <td>
                    {{ item.value.quantity }} {{ "x" }}
                    {{ item.value.product.title }}
                  </td>
                  <td>
                    {{ item.value.quantity }} {{ "x" }}
                    {{ item.value.product.price }} {{ "=" }}
                    {{
                      item.value.quantity * item.value.product.price
                        | currency: "INR":"symbol"
                    }}
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Total</th>
                  <th>{{ cart.totalprice | currency: "INR":"symbol" }}</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
